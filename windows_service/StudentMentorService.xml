<service>
  <id>StudentMentorService</id>
  <name>Student Mentor Service</name>
  <description>StudentMentor FastAPI backend</description>

  <executable>C:\Program Files\PowerShell\7\pwsh.exe</executable>
  <arguments>-NoLogo -NoProfile -ExecutionPolicy Bypass -File E:\SMASM\Start-App.ps1</arguments>
  <workingdirectory>E:\SMASM</workingdirectory>

  <logpath>E:\SMASM\windows_service</logpath>
  <log mode="roll-by-size">
    <sizeThreshold>10485760</sizeThreshold>
    <keepFiles>8</keepFiles>
  </log>
  <stoptimeout>25sec</stoptimeout>

  <!-- محـیط پایدار -->
  <env name="PYTHONUTF8" value="1" />
  <env name="PYTHONPATH" value="E:\SMASM\src" />
  <env name="DATABASE_URL"  value="postgresql://postgres:postgres@localhost:5432/postgres" />
  <env name="REDIS_URL"     value="redis://localhost:6379/0" />
</service>
